# =============================================================================
# TACHI PROTOCOL - STAGING ENVIRONMENT TEMPLATE
# =============================================================================
# Staging environment for pre-production testing on Base Sepolia testnet
#
# PURPOSE:
# - Test all features before production deployment
# - Use testnet (Base Sepolia) for blockchain interactions
# - Mirror production configuration but with test values
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=staging

# =============================================================================
# STAGING URLS
# =============================================================================
NEXT_PUBLIC_APP_URL=https://staging.tachiprotocol.com
NEXT_PUBLIC_API_URL=https://api-staging.tachiprotocol.com
API_BASE_URL=https://api-staging.tachiprotocol.com
FRONTEND_URL=https://staging.tachiprotocol.com
DASHBOARD_URL=https://staging.tachiprotocol.com/dashboard

# =============================================================================
# BLOCKCHAIN (STAGING - BASE SEPOLIA TESTNET)
# =============================================================================
NEXT_PUBLIC_CHAIN_ID=84532
NEXT_PUBLIC_ENVIRONMENT=staging

# Use Sepolia testnet RPC
BASE_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_STAGING_ALCHEMY_KEY
BASE_SEPOLIA_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_STAGING_ALCHEMY_KEY
ALCHEMY_API_KEY=YOUR_STAGING_ALCHEMY_KEY

# Deployed Contract Addresses (Base Sepolia Testnet)
CRAWL_NFT_CONTRACT_ADDRESS=0xE527DDaC2592FAa45884a0B78E4D377a5D3dF8cc
PAYMENT_PROCESSOR_CONTRACT_ADDRESS=0x7C503301eB8fA9dC7C3d2242487f18598321E479
USDC_CONTRACT_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e

# =============================================================================
# SECRETS (Set via hosting platform)
# =============================================================================
# Use separate staging database and services

# Supabase (Staging project)
# SUPABASE_URL=https://your-staging-project.supabase.co
# SUPABASE_ANON_KEY=
# SUPABASE_SERVICE_ROLE_KEY=
# DATABASE_URL=

# JWT Secrets (Different from production!)
# JWT_SECRET=
# JWT_REFRESH_SECRET=

# Redis (Staging instance)
# REDIS_URL=
# REDIS_PASSWORD=

# Stripe (Use TEST keys)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_test_...

# Monitoring (Staging environment)
# SENTRY_DSN=
# SENTRY_AUTH_TOKEN=

# Services
# CLOUDFLARE_API_TOKEN=
# WALLETCONNECT_PROJECT_ID=

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
ENABLE_HTTPS_ONLY=true
SECURE_COOKIES=true
HELMET_ENABLED=true
SESSION_SECURE=true
SESSION_SAME_SITE=lax
DATABASE_SSL=true
REDIS_TLS=false

# Rate Limiting (More relaxed for testing)
BCRYPT_ROUNDS=10
RATE_LIMIT_MAX_REQUESTS=200
AUTH_RATE_LIMIT_MAX=10
LOGIN_RATE_LIMIT_MAX=5

# CORS
CORS_ORIGINS=https://staging.tachiprotocol.com,https://localhost:3000
ALLOW_CORS_ALL_ORIGINS=false

# =============================================================================
# FEATURE FLAGS (STAGING - More permissive)
# =============================================================================
ENABLE_SWAGGER_DOCS=true
ENABLE_DEBUG_ENDPOINTS=true
DISABLE_AUTH_FOR_TESTING=false
MAINTENANCE_MODE=false

# =============================================================================
# MONITORING
# =============================================================================
LOG_LEVEL=debug
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ERROR_TRACKING=true
SENTRY_ENVIRONMENT=staging
SENTRY_SAMPLE_RATE=1.0

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Enable more verbose logging and error messages for debugging
ENABLE_LOGGING=true
ENABLE_DETAILED_ERRORS=true

# =============================================================================
# NOTES
# =============================================================================
# 1. Staging should mirror production configuration as closely as possible
# 2. Use separate databases and services for staging
# 3. Test all features thoroughly before promoting to production
# 4. Use testnet tokens (Base Sepolia ETH and USDC)
# 5. Get testnet ETH from: https://www.coinbase.com/faucets/base-ethereum-goerli-faucet
# 6. Staging environment should be accessible only to team members
